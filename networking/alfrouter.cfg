!
version 12.4
no service pad
service timestamps debug datetime msec
service timestamps log datetime msec
service password-encryption
!
hostname alfrouter
!
boot-start-marker
boot-end-marker
!
no logging buffered
no logging console
no logging monitor
enable password <redacted>
!
no aaa new-model
!
no ip source-route
!
ip cef
ip dhcp relay information trust-all
no ip dhcp use vrf connected
ip dhcp excluded-address 192.168.0.0 192.168.0.100
ip dhcp excluded-address 172.16.0.0 172.16.0.20
ip dhcp excluded-address 172.16.1.0 172.16.1.20
!
ip dhcp pool Workgroup
   network 192.168.0.0 255.255.255.0
   default-router 192.168.0.1 
   dns-server 8.8.8.8 
!
ip dhcp pool Servers
   network 172.16.0.0 255.255.255.0
   default-router 172.16.0.1 
   dns-server 8.8.8.8 
!
ip dhcp pool Management
   network 172.16.1.0 255.255.255.0
   default-router 172.16.1.0 
!
no ip bootp server
ip domain name home.lan
!
multilink bundle-name authenticated
!
voice-card 0
 no dspfarm
!
username flacko secret <redacted>
! 
archive
 log config
  hidekeys
!
ip ssh version 2
!
bba-group pppoe global
!
interface GigabitEthernet0/0
 description WAN uplink
 no ip address
 ip access-group OUTSIDE-IN in
 no ip proxy-arp
 duplex auto
 speed auto
 pppoe enable group global
 pppoe-client dial-pool-number 1
!
interface GigabitEthernet0/1
 ip address 172.16.2.1 255.255.255.252
 no ip proxy-arp
 ip nat inside
 no ip virtual-reassembly
 duplex auto
 speed auto
!
interface Serial0/0/0
 no ip address
 shutdown
 no fair-queue
 clock rate 2000000
!
interface Serial0/0/1
 no ip address
 shutdown
 clock rate 2000000
!
interface Dialer1
 mtu 1492
 ip address negotiated
 ip access-group OUTSIDE-IN in
 ip nat outside
 no ip virtual-reassembly
 encapsulation ppp
 dialer pool 1
 dialer-group 1
 no cdp enable
 ppp chap hostname <redacted>
 ppp chap password 7 <redacted>
 ppp pap sent-username <redacted> password 7 <redacted>
!
no ip forward-protocol nd
ip route 0.0.0.0 0.0.0.0 Dialer1
ip route 172.16.0.0 255.255.254.0 172.16.2.2
ip route 192.168.0.0 255.255.255.0 172.16.2.2
!
no ip http server
no ip http secure-server
ip nat translation max-entries 500
ip nat inside source list NET_INSIDE interface Dialer1 overload
!
ip access-list standard NET_INSIDE
 permit 172.16.0.0 0.0.1.255
 permit 192.168.0.0 0.0.0.255
 permit 172.16.2.0 0.0.0.255
!
ip access-list extended OUTSIDE-IN
 remark Allow TCP return traffic
 permit tcp any any established
 remark Allow Discord voice (UDP 50000-65535)
 permit udp any range 50000 65535 any
 remark Allow DNS replies (UDP 53)
 permit udp any eq domain any
 remark Allow NTP (UDP 123)
 permit udp any eq ntp any
 remark Allow basic ICMP
 permit icmp any any echo-reply
 permit icmp any any time-exceeded
 permit icmp any any unreachable
 remark Deny everything else
 deny   ip any any log
!
no logging trap
access-list 10 permit 172.16.0.0 0.0.255.255
no cdp run
!
control-plane
!
line con 0
 logging synchronous
line aux 0
line vty 0 4
 logging synchronous
 login local
 transport input ssh
line vty 5 15
 access-class 10 in
 logging synchronous
 login local
 transport input ssh
!
scheduler allocate 20000 1000
!
end
